<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
<meta name="theme-color" content="#000000">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<title>ADHD Assessment — Intake | Connect</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
body { background: #000; color: #fff; font-family: 'Inter', sans-serif; font-weight: 300; font-size: 16px; line-height: 1.6; -webkit-font-smoothing: antialiased; }
a { color: #e8c4a0; text-decoration: none; } a:hover { color: #fff; }
.form-container { max-width: 640px; margin: 0 auto; padding: 4rem 1.5rem 6rem; }
@media (max-width: 768px) { .form-container { padding: 2.5rem 1rem 4rem; } }
.form-header { margin-bottom: 2.5rem; }
.form-header a { font-family: 'Cormorant Garamond', serif; font-size: 1.3rem; color: #fff; }
.form-title { font-family: 'Cormorant Garamond', serif; font-size: 2.4rem; font-weight: 300; color: #fff; margin-top: 2.5rem; }
@media (max-width: 768px) { .form-title { font-size: 1.8rem; } }
.form-intro { font-family: 'Inter', sans-serif; font-weight: 300; font-size: 0.92rem; color: #a0a0a0; line-height: 1.75; max-width: 540px; margin-top: 1rem; }
.form-section { margin-top: 3rem; padding-top: 2rem; border-top: 1px solid rgba(255,255,255,0.08); }
.form-section h2 { font-family: 'Cormorant Garamond', serif; font-size: 1.4rem; font-weight: 400; color: #fff; margin: 0 0 0.5rem 0; }
.question-block { margin-top: 2rem; }
.question-label { display: block; font-family: 'Inter', sans-serif; font-weight: 400; font-size: 0.9rem; color: #fff; margin-bottom: 0.6rem; line-height: 1.5; }
.question-label .required { color: #e8c4a0; }
input[type="text"], input[type="email"], input[type="tel"], input[type="date"], input[type="number"], select, textarea { width: 100%; box-sizing: border-box; background: #111; border: 1px solid rgba(255,255,255,0.12); border-radius: 2px; color: #fff; font-family: 'Inter', sans-serif; font-weight: 300; font-size: 0.9rem; padding: 0.85rem 1rem; transition: border-color 0.2s ease, box-shadow 0.2s ease; -webkit-appearance: none; appearance: none; }
input:focus, select:focus, textarea:focus { border-color: #e8c4a0; box-shadow: 0 0 0 1px rgba(232,196,160,0.3); outline: none; }
textarea { min-height: 110px; resize: vertical; line-height: 1.6; }
select { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' fill='none'%3E%3Cpath d='M1 1.5l5 5 5-5' stroke='%23a0a0a0' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 1rem center; padding-right: 2.5rem; }
.helper-text { font-size: 0.75rem; color: #666; margin-top: 0.35rem; line-height: 1.4; }
.option-group { margin-top: 0.5rem; }
.option-item { display: flex; align-items: flex-start; gap: 0.75rem; padding: 0.55rem 0; cursor: pointer; }
.option-item input[type="radio"], .option-item input[type="checkbox"] { -webkit-appearance: none; appearance: none; width: 18px; height: 18px; min-width: 18px; border: 1px solid rgba(255,255,255,0.2); background: #111; margin: 0; cursor: pointer; position: relative; top: 1px; }
.option-item input[type="radio"] { border-radius: 50%; }
.option-item input[type="checkbox"] { border-radius: 2px; }
.option-item input[type="radio"]:checked { border-color: #e8c4a0; background: radial-gradient(circle, #e8c4a0 40%, #111 41%); }
.option-item input[type="checkbox"]:checked { border-color: #e8c4a0; background: #e8c4a0; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='10' fill='none'%3E%3Cpath d='M1 5l3.5 3.5L11 1' stroke='%23000' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: center; }
.option-item span { font-family: 'Inter', sans-serif; font-weight: 300; font-size: 0.88rem; color: #fff; line-height: 1.4; }
.conditional { display: none; margin-top: 0.75rem; margin-left: 2rem; padding: 1rem 1.2rem; border-left: 2px solid #e8c4a0; background: rgba(232,196,160,0.03); }
.conditional.visible { display: block; }
.safety-reassurance { display: none; margin-top: 1rem; padding: 1.2rem 1.5rem; border-left: 2px solid #e8c4a0; background: rgba(232,196,160,0.03); }
.safety-reassurance.visible { display: block; }
.safety-reassurance p { font-size: 0.88rem; color: #a0a0a0; line-height: 1.6; }
.crisis-box { display: none; margin-top: 1rem; padding: 1.2rem 1.5rem; border-left: 2px solid #e57373; background: rgba(229,115,115,0.05); }
.crisis-box.visible { display: block; }
.crisis-box p { font-size: 0.88rem; color: #e57373; line-height: 1.6; font-weight: 400; }
.submit-btn { display: block; width: 100%; background: #e8c4a0; color: #000; border: none; padding: 1rem; font-family: 'Inter', sans-serif; font-weight: 500; font-size: 0.92rem; border-radius: 2px; cursor: pointer; margin-top: 3rem; transition: background 0.2s ease; }
.submit-btn:hover { background: #fff; }
.after-submit { font-size: 0.82rem; color: #666; text-align: center; margin-top: 1rem; line-height: 1.5; }
</style>
</head>
<body>
<div class="form-container">
<div class="form-header"><a href="../index.html">Connect</a></div>
<h1 class="form-title">ADHD Assessment</h1>
<p class="form-intro">ADHD affects focus, organisation, impulse control, and follow-through — and it's often missed in young adults, especially women and Pacific and Māori communities. This form starts the assessment process. Answer based on the past six months.</p>

<form action="https://formspree.io/f/FORM_ID" method="POST">
<input type="hidden" name="_service" value="adhd">

<div class="form-section">
<h2>Attention and focus</h2>
<p style="font-size:0.85rem;color:#a0a0a0;margin-bottom:1rem;">Rate each: Rarely / Sometimes / Often / Very often</p>

<div class="question-block">
<label class="question-label required">How often do you have trouble sustaining attention during tasks or conversations?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="attention1" value="rarely" required><span>Rarely</span></label>
<label class="option-item"><input type="radio" name="attention1" value="sometimes"><span>Sometimes</span></label>
<label class="option-item"><input type="radio" name="attention1" value="often"><span>Often</span></label>
<label class="option-item"><input type="radio" name="attention1" value="veryoften"><span>Very often</span></label>
</div>
</div>

<div class="question-block">
<label class="question-label required">How often do you find it hard to organise tasks, manage time, or meet deadlines?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="attention2" value="rarely" required><span>Rarely</span></label>
<label class="option-item"><input type="radio" name="attention2" value="sometimes"><span>Sometimes</span></label>
<label class="option-item"><input type="radio" name="attention2" value="often"><span>Often</span></label>
<label class="option-item"><input type="radio" name="attention2" value="veryoften"><span>Very often</span></label>
</div>
</div>

<div class="question-block">
<label class="question-label required">How often do you put off or avoid tasks that require sustained concentration?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="attention3" value="rarely" required><span>Rarely</span></label>
<label class="option-item"><input type="radio" name="attention3" value="sometimes"><span>Sometimes</span></label>
<label class="option-item"><input type="radio" name="attention3" value="often"><span>Often</span></label>
<label class="option-item"><input type="radio" name="attention3" value="veryoften"><span>Very often</span></label>
</div>
</div>

<div class="question-block">
<label class="question-label required">How often do you misplace things you need — phone, keys, wallet, documents?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="attention4" value="rarely" required><span>Rarely</span></label>
<label class="option-item"><input type="radio" name="attention4" value="sometimes"><span>Sometimes</span></label>
<label class="option-item"><input type="radio" name="attention4" value="often"><span>Often</span></label>
<label class="option-item"><input type="radio" name="attention4" value="veryoften"><span>Very often</span></label>
</div>
</div>

<div class="question-block">
<label class="question-label required">How often are you easily sidetracked by unrelated thoughts or things around you?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="attention5" value="rarely" required><span>Rarely</span></label>
<label class="option-item"><input type="radio" name="attention5" value="sometimes"><span>Sometimes</span></label>
<label class="option-item"><input type="radio" name="attention5" value="often"><span>Often</span></label>
<label class="option-item"><input type="radio" name="attention5" value="veryoften"><span>Very often</span></label>
</div>
</div>

<div class="question-block">
<label class="question-label required">How often do you start things but struggle to finish them?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="attention6" value="rarely" required><span>Rarely</span></label>
<label class="option-item"><input type="radio" name="attention6" value="sometimes"><span>Sometimes</span></label>
<label class="option-item"><input type="radio" name="attention6" value="often"><span>Often</span></label>
<label class="option-item"><input type="radio" name="attention6" value="veryoften"><span>Very often</span></label>
</div>
</div>
</div>

<div class="form-section">
<h2>Hyperactivity and impulsivity</h2>
<p style="font-size:0.85rem;color:#a0a0a0;margin-bottom:1rem;">Rate each: Rarely / Sometimes / Often / Very often</p>

<div class="question-block">
<label class="question-label required">How often do you feel physically restless or fidgety?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="hyper1" value="rarely" required><span>Rarely</span></label>
<label class="option-item"><input type="radio" name="hyper1" value="sometimes"><span>Sometimes</span></label>
<label class="option-item"><input type="radio" name="hyper1" value="often"><span>Often</span></label>
<label class="option-item"><input type="radio" name="hyper1" value="veryoften"><span>Very often</span></label>
</div>
</div>

<div class="question-block">
<label class="question-label required">How often do you talk over people or have trouble waiting for your turn?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="hyper2" value="rarely" required><span>Rarely</span></label>
<label class="option-item"><input type="radio" name="hyper2" value="sometimes"><span>Sometimes</span></label>
<label class="option-item"><input type="radio" name="hyper2" value="often"><span>Often</span></label>
<label class="option-item"><input type="radio" name="hyper2" value="veryoften"><span>Very often</span></label>
</div>
</div>

<div class="question-block">
<label class="question-label required">How often do you act on impulse — spending, decisions, saying things you regret?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="hyper3" value="rarely" required><span>Rarely</span></label>
<label class="option-item"><input type="radio" name="hyper3" value="sometimes"><span>Sometimes</span></label>
<label class="option-item"><input type="radio" name="hyper3" value="often"><span>Often</span></label>
<label class="option-item"><input type="radio" name="hyper3" value="veryoften"><span>Very often</span></label>
</div>
</div>

<div class="question-block">
<label class="question-label required">How often do you feel like your mind is racing or going in multiple directions at once?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="hyper4" value="rarely" required><span>Rarely</span></label>
<label class="option-item"><input type="radio" name="hyper4" value="sometimes"><span>Sometimes</span></label>
<label class="option-item"><input type="radio" name="hyper4" value="often"><span>Often</span></label>
<label class="option-item"><input type="radio" name="hyper4" value="veryoften"><span>Very often</span></label>
</div>
</div>
</div>

<div class="form-section">
<h2>History and context</h2>

<div class="question-block">
<label class="question-label required">Were these difficulties present in childhood (before age 12)?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="childhood" value="yes" required><span>Yes, clearly</span></label>
<label class="option-item"><input type="radio" name="childhood" value="thinkso"><span>I think so but it wasn't identified</span></label>
<label class="option-item"><input type="radio" name="childhood" value="no"><span>No</span></label>
<label class="option-item"><input type="radio" name="childhood" value="notsure"><span>I'm not sure</span></label>
</div>
</div>

<div class="question-block">
<label class="question-label">Has anyone in your biological family been diagnosed with ADHD?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="family_adhd" value="no"><span>No</span></label>
<label class="option-item"><input type="radio" name="family_adhd" value="yes" data-shows="family-details"><span>Yes — who?</span></label>
<label class="option-item"><input type="radio" name="family_adhd" value="notsure"><span>Not sure</span></label>
</div>
<div class="conditional" id="family-details">
<input type="text" name="family_who" placeholder="Who in your family?">
</div>
</div>

<div class="question-block">
<label class="question-label required">Which areas of your life are most affected right now?</label>
<div class="option-group">
<label class="option-item"><input type="checkbox" name="affected" value="work"><span>Work or career</span></label>
<label class="option-item"><input type="checkbox" name="affected" value="study"><span>Study or education</span></label>
<label class="option-item"><input type="checkbox" name="affected" value="relationships"><span>Relationships</span></label>
<label class="option-item"><input type="checkbox" name="affected" value="money"><span>Managing money</span></label>
<label class="option-item"><input type="checkbox" name="affected" value="household"><span>Household tasks and routines</span></label>
<label class="option-item"><input type="checkbox" name="affected" value="confidence"><span>Self-confidence</span></label>
<label class="option-item"><input type="checkbox" name="affected" value="emotions"><span>Emotional regulation</span></label>
<label class="option-item"><input type="checkbox" name="affected" value="other" data-other="affected-other"><span>Other</span></label>
</div>
<div class="conditional" id="affected-other" style="margin-left:0;margin-top:0.5rem;">
<input type="text" name="affected_other" placeholder="Please specify">
</div>
</div>

<div class="question-block">
<label class="question-label">Have you been assessed or treated for ADHD before?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="previous_adhd" value="no"><span>No</span></label>
<label class="option-item"><input type="radio" name="previous_adhd" value="yes" data-shows="previous-details"><span>Yes</span></label>
</div>
<div class="conditional" id="previous-details">
<textarea name="previous_details" placeholder="What happened? Were you given a diagnosis or medication?"></textarea>
</div>
</div>

<div class="question-block">
<label class="question-label">Are you currently taking any medication — for anything?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="medication" value="no"><span>No</span></label>
<label class="option-item"><input type="radio" name="medication" value="yes" data-shows="med-details"><span>Yes</span></label>
</div>
<div class="conditional" id="med-details">
<input type="text" name="medication_details" placeholder="What and dose?">
</div>
</div>

<div class="question-block">
<label class="question-label">Have you been diagnosed with any other conditions? (anxiety, depression, autism, dyslexia, learning difficulties)</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="other_conditions" value="no"><span>No</span></label>
<label class="option-item"><input type="radio" name="other_conditions" value="yes" data-shows="conditions-details"><span>Yes</span></label>
</div>
<div class="conditional" id="conditions-details">
<input type="text" name="conditions_list" placeholder="What conditions?">
</div>
</div>

<div class="question-block">
<label class="question-label">Do you use caffeine, alcohol, cannabis, or other substances regularly?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="substances" value="no"><span>No</span></label>
<label class="option-item"><input type="radio" name="substances" value="occasionally"><span>Occasionally</span></label>
<label class="option-item"><input type="radio" name="substances" value="regularly" data-shows="substances-details"><span>Regularly</span></label>
</div>
<div class="conditional" id="substances-details">
<input type="text" name="substances_details" placeholder="What and how often?">
</div>
</div>
</div>

<div class="form-section">
<h2>Your goals</h2>

<div class="question-block">
<label class="question-label required">What would you most like help with?</label>
<textarea name="help_with" required></textarea>
</div>

<div class="question-block">
<label class="question-label">Is there anything about your background, culture, faith, or family that would be helpful for us to know?</label>
<textarea name="cultural"></textarea>
</div>

<div class="question-block">
<label class="question-label">For a thorough assessment, it helps to have someone who knows you well provide observations about your behaviour. This is called a collateral history. Do you have someone who could do this — a partner, parent, sibling, or close friend?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="collateral" value="yes"><span>Yes</span></label>
<label class="option-item"><input type="radio" name="collateral" value="maybe"><span>Maybe — I'd need to think about who</span></label>
<label class="option-item"><input type="radio" name="collateral" value="no"><span>No</span></label>
</div>
</div>
</div>

<div class="form-section">
<h2>Safety</h2>

<div class="question-block">
<label class="question-label required">Over the past two weeks, have you had any thoughts of hurting yourself or ending your life?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="self_harm" value="no" required><span>No</span></label>
<label class="option-item"><input type="radio" name="self_harm" value="yes_sometimes"><span>Yes — occasionally</span></label>
<label class="option-item"><input type="radio" name="self_harm" value="yes_often"><span>Yes — frequently</span></label>
</div>

<div class="safety-reassurance" id="safety-reassurance">
<p>Thank you for being honest with us. You're not in trouble and this won't be held against you. It helps us make sure you get the right level of support.</p>
</div>

<div class="conditional" id="plan-group">
<label class="question-label">Right now, do you have a specific plan to hurt yourself?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="has_plan" value="no"><span>No</span></label>
<label class="option-item"><input type="radio" name="has_plan" value="yes"><span>Yes</span></label>
</div>
</div>

<div class="crisis-box" id="crisis-box">
<p>If you are in immediate danger, please call 111 now. You can also call or text 1737 any time to talk to someone. If you submit this form, we will treat it as urgent and contact you as soon as possible.</p>
</div>
</div>

<div class="question-block">
<label class="question-label">Is there anything else about your safety you'd like us to know?</label>
<textarea name="safety_other"></textarea>
</div>
</div>

<div class="form-section">
<h2>Your details</h2>

<div class="question-block">
<label class="question-label required">Full name</label>
<input type="text" name="fullname" required>
</div>

<div class="question-block">
<label class="question-label">Preferred name</label>
<input type="text" name="preferred_name">
</div>

<div class="question-block">
<label class="question-label required">Date of birth</label>
<input type="date" name="dob" required>
</div>

<div class="question-block">
<label class="question-label required">Age</label>
<input type="number" name="age" min="16" max="100" required>
<p class="helper-text">Must be 16 or older.</p>
</div>

<div class="question-block">
<label class="question-label required">Gender</label>
<select name="gender" required>
<option value="">Select...</option>
<option value="man">Man</option>
<option value="woman">Woman</option>
<option value="nonbinary">Non-binary</option>
<option value="genderdiverse">Gender diverse</option>
<option value="prefernot">Prefer not to say</option>
<option value="other">Other</option>
</select>
</div>

<div class="question-block">
<label class="question-label required">Ethnicity (select all that apply)</label>
<div class="option-group">
<label class="option-item"><input type="checkbox" name="ethnicity" value="nzeuropean"><span>NZ European/Pākehā</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="maori"><span>Māori</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="samoan"><span>Samoan</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="tongan"><span>Tongan</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="cookisland"><span>Cook Island Māori</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="fijian"><span>Fijian</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="niuean"><span>Niuean</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="tokelauan"><span>Tokelauan</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="indian"><span>Indian</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="chinese"><span>Chinese</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="southeastasian"><span>Southeast Asian</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="other" data-other="ethnicity-other"><span>Other</span></label>
</div>
<div class="conditional" id="ethnicity-other" style="margin-left:0;margin-top:0.5rem;">
<input type="text" name="ethnicity_other" placeholder="Please specify">
</div>
</div>

<div class="question-block">
<label class="question-label required">Phone number</label>
<input type="tel" name="phone" required>
</div>

<div class="question-block">
<label class="question-label required">Email address</label>
<input type="email" name="email" required>
</div>

<div class="question-block">
<label class="question-label">City or town you live in</label>
<input type="text" name="city">
</div>

<div class="question-block">
<label class="question-label required">Emergency contact name and number</label>
<input type="text" name="emergency_contact" required>
<p class="helper-text">Someone we can contact if we're concerned about your safety.</p>
</div>

<div class="question-block">
<label class="question-label">How did you hear about Connect?</label>
<select name="referral">
<option value="">Select...</option>
<option value="google">Google search</option>
<option value="social">Social media</option>
<option value="friend">Friend or family member</option>
<option value="gp">GP or other doctor</option>
<option value="school">School, university, or polytech</option>
<option value="community">Community or church organisation</option>
<option value="other">Other</option>
</select>
</div>

<div class="question-block" style="margin-top:2rem;">
<label class="option-item" style="padding:0;">
<input type="checkbox" name="consent_confidential" required style="margin-right:0.75rem;">
<span>I understand my information is confidential and will only be seen by the Connect Clinic clinical team.</span>
</label>
</div>

<div class="question-block">
<label class="option-item" style="padding:0;">
<input type="checkbox" name="consent_age" required style="margin-right:0.75rem;">
<span>I confirm I am 16 years of age or older.</span>
</label>
</div>
</div>

<button type="submit" class="submit-btn">Submit</button>
<p class="after-submit">We'll review your form and be in touch within 48 hours by email or phone.</p>
</form>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('[data-shows]').forEach(function(input) {
    input.addEventListener('change', function() {
      var target = document.getElementById(this.dataset.shows);
      if (!target) return;
      var group = this.closest('.option-group');
      var allInputs = group.querySelectorAll('input[name="' + this.name + '"]');
      allInputs.forEach(function(inp) {
        if (inp.dataset.shows && inp.dataset.shows !== input.dataset.shows) {
          var other = document.getElementById(inp.dataset.shows);
          if (other) other.classList.remove('visible');
        }
      });
      if (this.checked) { target.classList.add('visible'); }
      else { target.classList.remove('visible'); }
    });
  });

  var safetyRadios = document.querySelectorAll('input[name="self_harm"]');
  var reassurance = document.getElementById('safety-reassurance');
  var planGroup = document.getElementById('plan-group');
  safetyRadios.forEach(function(r) {
    r.addEventListener('change', function() {
      if (this.value === 'yes_sometimes' || this.value === 'yes_often') {
        reassurance.classList.add('visible');
        planGroup.classList.add('visible');
      } else {
        reassurance.classList.remove('visible');
        planGroup.classList.remove('visible');
        document.getElementById('crisis-box').classList.remove('visible');
      }
    });
  });

  var planRadios = document.querySelectorAll('input[name="has_plan"]');
  var crisisBox = document.getElementById('crisis-box');
  planRadios.forEach(function(r) {
    r.addEventListener('change', function() {
      if (this.value === 'yes') { crisisBox.classList.add('visible'); }
      else { crisisBox.classList.remove('visible'); }
    });
  });

  document.querySelectorAll('input[data-other]').forEach(function(cb) {
    cb.addEventListener('change', function() {
      var target = document.getElementById(this.dataset.other);
      if (target) target.style.display = this.checked ? 'block' : 'none';
    });
  });

  document.querySelector('form').addEventListener('submit', function(e) {
    var first = null;
    this.querySelectorAll('[required]').forEach(function(field) {
      var isEmpty = !field.value || (field.type === 'checkbox' && !field.checked);
      if (isEmpty) {
        field.style.borderColor = '#e57373';
        if (!first) first = field;
      } else {
        field.style.borderColor = '';
      }
    });
    if (first) { e.preventDefault(); first.scrollIntoView({ behavior: 'smooth', block: 'center' }); }
  });
});
</script>
</body>
</html>

<div class="form-section">
<h2>Safety</h2>

<div class="question-block">
<label class="question-label required">Over the past two weeks, have you had any thoughts of hurting yourself or ending your life?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="self_harm" value="no" required><span>No</span></label>
<label class="option-item"><input type="radio" name="self_harm" value="yes_sometimes"><span>Yes — occasionally</span></label>
<label class="option-item"><input type="radio" name="self_harm" value="yes_often"><span>Yes — frequently</span></label>
</div>

<div class="safety-reassurance" id="safety-reassurance">
<p>Thank you for being honest with us. You're not in trouble and this won't be held against you. It helps us make sure you get the right level of support.</p>
</div>

<div class="conditional" id="plan-group">
<label class="question-label">Right now, do you have a specific plan to hurt yourself?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="has_plan" value="no"><span>No</span></label>
<label class="option-item"><input type="radio" name="has_plan" value="yes"><span>Yes</span></label>
</div>
</div>

<div class="crisis-box" id="crisis-box">
<p>If you are in immediate danger, please call 111 now. You can also call or text 1737 any time to talk to someone. If you submit this form, we will treat it as urgent and contact you as soon as possible.</p>
</div>
</div>

<div class="question-block">
<label class="question-label">Is there anything else about your safety you'd like us to know?</label>
<textarea name="safety_other"></textarea>
</div>
</div>

<div class="form-section">
<h2>Your details</h2>

<div class="question-block">
<label class="question-label required">Full name</label>
<input type="text" name="fullname" required>
</div>

<div class="question-block">
<label class="question-label">Preferred name</label>
<input type="text" name="preferred_name">
</div>

<div class="question-block">
<label class="question-label required">Date of birth</label>
<input type="date" name="dob" required>
</div>

<div class="question-block">
<label class="question-label required">Age</label>
<input type="number" name="age" min="16" max="100" required>
<p class="helper-text">Must be 16 or older.</p>
</div>

<div class="question-block">
<label class="question-label required">Gender</label>
<select name="gender" required>
<option value="">Select...</option>
<option value="man">Man</option>
<option value="woman">Woman</option>
<option value="nonbinary">Non-binary</option>
<option value="genderdiverse">Gender diverse</option>
<option value="prefernot">Prefer not to say</option>
<option value="other">Other</option>
</select>
</div>

<div class="question-block">
<label class="question-label required">Ethnicity (select all that apply)</label>
<div class="option-group">
<label class="option-item"><input type="checkbox" name="ethnicity" value="nzeuropean"><span>NZ European/Pākehā</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="maori"><span>Māori</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="samoan"><span>Samoan</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="tongan"><span>Tongan</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="cookisland"><span>Cook Island Māori</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="fijian"><span>Fijian</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="niuean"><span>Niuean</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="tokelauan"><span>Tokelauan</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="indian"><span>Indian</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="chinese"><span>Chinese</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="southeastasian"><span>Southeast Asian</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="other" data-other="ethnicity-other"><span>Other</span></label>
</div>
<div class="conditional" id="ethnicity-other" style="margin-left:0;margin-top:0.5rem;">
<input type="text" name="ethnicity_other" placeholder="Please specify">
</div>
</div>

<div class="question-block">
<label class="question-label required">Phone number</label>
<input type="tel" name="phone" required>
</div>

<div class="question-block">
<label class="question-label required">Email address</label>
<input type="email" name="email" required>
</div>

<div class="question-block">
<label class="question-label">City or town you live in</label>
<input type="text" name="city">
</div>

<div class="question-block">
<label class="question-label required">Emergency contact name and number</label>
<input type="text" name="emergency_contact" required>
<p class="helper-text">Someone we can contact if we're concerned about your safety.</p>
</div>

<div class="question-block">
<label class="question-label">How did you hear about Connect?</label>
<select name="referral">
<option value="">Select...</option>
<option value="google">Google search</option>
<option value="social">Social media</option>
<option value="friend">Friend or family member</option>
<option value="gp">GP or other doctor</option>
<option value="school">School, university, or polytech</option>
<option value="community">Community or church organisation</option>
<option value="other">Other</option>
</select>
</div>

<div class="question-block" style="margin-top:2rem;">
<label class="option-item" style="padding:0;">
<input type="checkbox" name="consent_confidential" required style="margin-right:0.75rem;">
<span>I understand my information is confidential and will only be seen by the Connect Clinic clinical team.</span>
</label>
</div>

<div class="question-block">
<label class="option-item" style="padding:0;">
<input type="checkbox" name="consent_age" required style="margin-right:0.75rem;">
<span>I confirm I am 16 years of age or older.</span>
</label>
</div>
</div>

<button type="submit" class="submit-btn">Submit</button>
<p class="after-submit">We'll review your form and be in touch within 48 hours by email or phone.</p>
</form>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('[data-shows]').forEach(function(input) {
    input.addEventListener('change', function() {
      var target = document.getElementById(this.dataset.shows);
      if (!target) return;
      var group = this.closest('.option-group');
      var allInputs = group.querySelectorAll('input[name="' + this.name + '"]');
      allInputs.forEach(function(inp) {
        if (inp.dataset.shows && inp.dataset.shows !== input.dataset.shows) {
          var other = document.getElementById(inp.dataset.shows);
          if (other) other.classList.remove('visible');
        }
      });
      if (this.checked) { target.classList.add('visible'); }
      else { target.classList.remove('visible'); }
    });
  });

  var safetyRadios = document.querySelectorAll('input[name="self_harm"]');
  var reassurance = document.getElementById('safety-reassurance');
  var planGroup = document.getElementById('plan-group');
  safetyRadios.forEach(function(r) {
    r.addEventListener('change', function() {
      if (this.value === 'yes_sometimes' || this.value === 'yes_often') {
        reassurance.classList.add('visible');
        planGroup.classList.add('visible');
      } else {
        reassurance.classList.remove('visible');
        planGroup.classList.remove('visible');
        document.getElementById('crisis-box').classList.remove('visible');
      }
    });
  });

  var planRadios = document.querySelectorAll('input[name="has_plan"]');
  var crisisBox = document.getElementById('crisis-box');
  planRadios.forEach(function(r) {
    r.addEventListener('change', function() {
      if (this.value === 'yes') { crisisBox.classList.add('visible'); }
      else { crisisBox.classList.remove('visible'); }
    });
  });

  document.querySelectorAll('input[data-other]').forEach(function(cb) {
    cb.addEventListener('change', function() {
      var target = document.getElementById(this.dataset.other);
      if (target) target.style.display = this.checked ? 'block' : 'none';
    });
  });

  document.querySelector('form').addEventListener('submit', function(e) {
    var first = null;
    this.querySelectorAll('[required]').forEach(function(field) {
      var isEmpty = !field.value || (field.type === 'checkbox' && !field.checked);
      if (isEmpty) {
        field.style.borderColor = '#e57373';
        if (!first) first = field;
      } else {
        field.style.borderColor = '';
      }
    });
    if (first) { e.preventDefault(); first.scrollIntoView({ behavior: 'smooth', block: 'center' }); }
  });
});
</script>
</body>
</html>
