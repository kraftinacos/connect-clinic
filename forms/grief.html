<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
<meta name="theme-color" content="#000000">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<title>Grief & Loss — Intake | Connect</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
body { background: #000; color: #fff; font-family: 'Inter', sans-serif; font-weight: 300; font-size: 16px; line-height: 1.6; -webkit-font-smoothing: antialiased; }
.form-container { max-width: 640px; margin: 0 auto; padding: 4rem 1.5rem 6rem; }
@media (max-width: 768px) { .form-container { padding: 2.5rem 1rem 4rem; } }
.form-header { margin-bottom: 2.5rem; }
.form-header a { font-family: 'Cormorant Garamond', serif; font-size: 1.3rem; color: #fff; }
.form-title { font-family: 'Cormorant Garamond', serif; font-size: 2.4rem; font-weight: 300; color: #fff; margin-top: 2.5rem; }
@media (max-width: 768px) { .form-title { font-size: 1.8rem; } }
.form-intro { font-family: 'Inter', sans-serif; font-weight: 300; font-size: 0.92rem; color: #a0a0a0; line-height: 1.75; max-width: 540px; margin-top: 1rem; }
.form-section { margin-top: 3rem; padding-top: 2rem; border-top: 1px solid rgba(255,255,255,0.08); }
.form-section h2 { font-family: 'Cormorant Garamond', serif; font-size: 1.4rem; font-weight: 400; color: #fff; margin: 0 0 0.5rem 0; }
.question-block { margin-top: 2rem; }
.question-label { display: block; font-family: 'Inter', sans-serif; font-weight: 400; font-size: 0.9rem; color: #fff; margin-bottom: 0.6rem; line-height: 1.5; }
.question-label .required { color: #e8c4a0; }
input[type="text"], input[type="email"], input[type="tel"], input[type="date"], input[type="number"], select, textarea { width: 100%; box-sizing: border-box; background: #111; border: 1px solid rgba(255,255,255,0.12); border-radius: 2px; color: #fff; font-family: 'Inter', sans-serif; font-weight: 300; font-size: 0.9rem; padding: 0.85rem 1rem; transition: border-color 0.2s ease, box-shadow 0.2s ease; -webkit-appearance: none; appearance: none; }
input:focus, select:focus, textarea:focus { border-color: #e8c4a0; box-shadow: 0 0 0 1px rgba(232,196,160,0.3); outline: none; }
textarea { min-height: 110px; resize: vertical; line-height: 1.6; }
select { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' fill='none'%3E%3Cpath d='M1 1.5l5 5 5-5' stroke='%23a0a0a0' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 1rem center; padding-right: 2.5rem; }
.helper-text { font-size: 0.75rem; color: #666; margin-top: 0.35rem; line-height: 1.4; }
.option-group { margin-top: 0.5rem; }
.option-item { display: flex; align-items: flex-start; gap: 0.75rem; padding: 0.55rem 0; cursor: pointer; }
.option-item input[type="radio"], input[type="radio"] {
  -webkit-appearance: none;
  appearance: none;
  width: 22px;
  height: 22px;
  min-width: 22px;
  border: 2px solid rgba(255,255,255,0.35);
  border-radius: 50%;
  background: transparent;
  cursor: pointer;
  position: relative;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}
input[type="radio"]:hover {
  border-color: rgba(255,255,255,0.6);
}
input[type="radio"]:checked {
  border-color: #e8c4a0;
  background: transparent;
}
input[type="radio"]:checked::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #e8c4a0;
}
input[type="radio"]:focus-visible {
  box-shadow: 0 0 0 2px rgba(232,196,160,0.4);
}
.option-item input[type="checkbox"], input[type="checkbox"] {
  -webkit-appearance: none;
  appearance: none;
  width: 22px;
  height: 22px;
  min-width: 22px;
  border: 2px solid rgba(255,255,255,0.35);
  border-radius: 3px;
  background: transparent;
  cursor: pointer;
  position: relative;
  transition: border-color 0.2s ease, background 0.2s ease, box-shadow 0.2s ease;
}
input[type="checkbox"]:hover {
  border-color: rgba(255,255,255,0.6);
}
input[type="checkbox"]:checked {
  border-color: #e8c4a0;
  background: #e8c4a0;
}
input[type="checkbox"]:checked::after {
  content: "";
  position: absolute;
  top: 3px;
  left: 6px;
  width: 6px;
  height: 10px;
  border: solid #000;
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}
input[type="checkbox"]:focus-visible {
  box-shadow: 0 0 0 2px rgba(232,196,160,0.4);
}
.option-item input[type="checkbox"]:checked { border-color: #e8c4a0; background: #e8c4a0; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='10' fill='none'%3E%3Cpath d='M1 5l3.5 3.5L11 1' stroke='%23000' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: center; }
.option-item span { font-family: 'Inter', sans-serif; font-weight: 300; font-size: 0.88rem; color: #fff; line-height: 1.4; }

/* Radio buttons */
.option-item input[type="radio"], input[type="radio"] {
  -webkit-appearance: none;
  appearance: none;
  width: 22px;
  height: 22px;
  min-width: 22px;
  border: 2px solid rgba(255,255,255,0.35);
  border-radius: 50%;
  background: transparent;
  cursor: pointer;
  position: relative;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}
input[type="radio"]:hover {
  border-color: rgba(255,255,255,0.6);
}
input[type="radio"]:checked {
  border-color: #e8c4a0;
  background: transparent;
}
input[type="radio"]:checked::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #e8c4a0;
}
input[type="radio"]:focus-visible {
  box-shadow: 0 0 0 2px rgba(232,196,160,0.4);
}

/* Checkboxes */
.option-item input[type="checkbox"], input[type="checkbox"] {
  -webkit-appearance: none;
  appearance: none;
  width: 22px;
  height: 22px;
  min-width: 22px;
  border: 2px solid rgba(255,255,255,0.35);
  border-radius: 3px;
  background: transparent;
  cursor: pointer;
  position: relative;
  transition: border-color 0.2s ease, background 0.2s ease, box-shadow 0.2s ease;
}
input[type="checkbox"]:hover {
  border-color: rgba(255,255,255,0.6);
}
input[type="checkbox"]:checked {
  border-color: #e8c4a0;
  background: #e8c4a0;
}
input[type="checkbox"]:checked::after {
  content: '';
  position: absolute;
  top: 3px;
  left: 6px;
  width: 6px;
  height: 10px;
  border: solid #000;
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}
input[type="checkbox"]:focus-visible {
  box-shadow: 0 0 0 2px rgba(232,196,160,0.4);
}
.conditional { display: none; margin-top: 0.75rem; margin-left: 2rem; padding: 1rem 1.2rem; border-left: 2px solid #e8c4a0; background: rgba(232,196,160,0.03); }
.conditional.visible { display: block; }
.safety-reassurance { display: none; margin-top: 1rem; padding: 1.2rem 1.5rem; border-left: 2px solid #e8c4a0; background: rgba(232,196,160,0.03); }
.safety-reassurance.visible { display: block; }
.safety-reassurance p { font-size: 0.88rem; color: #a0a0a0; line-height: 1.6; }
.crisis-box { display: none; margin-top: 1rem; padding: 1.2rem 1.5rem; border-left: 2px solid #e57373; background: rgba(229,115,115,0.05); }
.crisis-box.visible { display: block; }
.crisis-box p { font-size: 0.88rem; color: #e57373; line-height: 1.6; font-weight: 400; }
.submit-btn { display: block; width: 100%; background: #e8c4a0; color: #000; border: none; padding: 1rem; font-family: 'Inter', sans-serif; font-weight: 500; font-size: 0.92rem; border-radius: 2px; cursor: pointer; margin-top: 3rem; transition: background 0.2s ease; }
.submit-btn:hover { background: #fff; }
.after-submit { font-size: 0.82rem; color: #666; text-align: center; margin-top: 1rem; line-height: 1.5; }
</style>
</head>
<body>
<div class="form-container">
<div class="form-header"><a href="../index.html">Connect</a></div>
<h1 class="form-title">Grief & Loss</h1>
<p class="form-intro">Grief doesn't follow a schedule and it doesn't always look the way people expect. Whether you've lost someone, gone through a breakup, or experienced a major life change — this form helps us understand what you're carrying so we can support you properly.</p>

<form action="https://formspree.io/f/FORM_ID" method="POST">
<input type="hidden" name="_service" value="grief">

<div class="form-section">
<h2>What you're dealing with</h2>

<div class="question-block">
<label class="question-label required">What kind of loss are you going through?</label>
<div class="option-group">
<label class="option-item"><input type="checkbox" name="loss_type" value="death"><span>Death of someone close</span></label>
<label class="option-item"><input type="checkbox" name="loss_type" value="breakup"><span>End of a relationship</span></label>
<label class="option-item"><input type="checkbox" name="loss_type" value="job"><span>Loss of a job or career direction</span></label>
<label class="option-item"><input type="checkbox" name="loss_type" value="health"><span>Serious health diagnosis (yours or someone close)</span></label>
<label class="option-item"><input type="checkbox" name="loss_type" value="family"><span>Family breakdown or estrangement</span></label>
<label class="option-item"><input type="checkbox" name="loss_type" value="miscarriage"><span>Miscarriage or pregnancy loss</span></label>
<label class="option-item"><input type="checkbox" name="loss_type" value="cultural"><span>Cultural disconnection or identity loss</span></label>
<label class="option-item"><input type="checkbox" name="loss_type" value="pet"><span>Loss of a pet</span></label>
<label class="option-item"><input type="checkbox" name="loss_type" value="other" data-other="loss-other"><span>Other</span></label>
</div>
<div class="conditional" id="loss-other" style="margin-left:0;margin-top:0.5rem;">
<input type="text" name="loss_other" placeholder="Please specify">
</div>
</div>

<div class="question-block">
<label class="question-label required">When did this happen?</label>
<select name="when" required>
<option value="">Select...</option>
<option value="lastmonth">In the last month</option>
<option value="1-3months">1–3 months ago</option>
<option value="3-6months">3–6 months ago</option>
<option value="6-12months">6–12 months ago</option>
<option value="moreyear">More than a year ago</option>
<option value="ongoing">It's ongoing</option>
</select>
</div>

<div class="question-block">
<label class="question-label">What are you feeling most right now?</label>
<div class="option-group">
<label class="option-item"><input type="checkbox" name="feelings" value="sadness"><span>Deep sadness</span></label>
<label class="option-item"><input type="checkbox" name="feelings" value="numbness"><span>Numbness or emptiness</span></label>
<label class="option-item"><input type="checkbox" name="feelings" value="anger"><span>Anger</span></label>
<label class="option-item"><input type="checkbox" name="feelings" value="guilt"><span>Guilt or regret</span></label>
<label class="option-item"><input type="checkbox" name="feelings" value="loneliness"><span>Loneliness</span></label>
<label class="option-item"><input type="checkbox" name="feelings" value="accepting"><span>Difficulty accepting what happened</span></label>
<label class="option-item"><input type="checkbox" name="feelings" value="relief"><span>Relief — and guilt about feeling relief</span></label>
<label class="option-item"><input type="checkbox" name="feelings" value="struggling"><span>Struggling to get through daily life</span></label>
<label class="option-item"><input type="checkbox" name="feelings" value="stuck"><span>Feeling stuck</span></label>
<label class="option-item"><input type="checkbox" name="feelings" value="other" data-other="feelings-other"><span>Other</span></label>
</div>
<div class="conditional" id="feelings-other" style="margin-left:0;margin-top:0.5rem;">
<input type="text" name="feelings_other" placeholder="Please specify">
</div>
</div>

<div class="question-block">
<label class="question-label required">How much is this affecting your daily life?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="impact" value="mild" required><span>Mild — I'm getting by</span></label>
<label class="option-item"><input type="radio" name="impact" value="moderate"><span>Moderate — some days are very hard</span></label>
<label class="option-item"><input type="radio" name="impact" value="severe"><span>Severe — it's affecting most of my life</span></label>
<label class="option-item"><input type="radio" name="impact" value="verysevere"><span>Very severe — I don't know how to keep going</span></label>
</div>
</div>
</div>

<div class="form-section">
<h2>Support around you</h2>

<div class="question-block">
<label class="question-label">Do you have people in your life who understand what you're going through?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="support" value="yes"><span>Yes</span></label>
<label class="option-item"><input type="radio" name="support" value="somewhat"><span>Somewhat</span></label>
<label class="option-item"><input type="radio" name="support" value="notreally"><span>Not really</span></label>
<label class="option-item"><input type="radio" name="support" value="no"><span>No</span></label>
</div>
</div>

<div class="question-block">
<label class="question-label">Have you spoken to anyone about this? (GP, counsellor, pastor, elder, healer)</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="spoken" value="no"><span>No</span></label>
<label class="option-item"><input type="radio" name="spoken" value="yes" data-shows="spoken-details"><span>Yes</span></label>
</div>
<div class="conditional" id="spoken-details">
<textarea name="spoken_details" placeholder="Who and what happened?"></textarea>
</div>
</div>

<div class="question-block">
<label class="question-label">Are you currently taking any medication?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="medication" value="no"><span>No</span></label>
<label class="option-item"><input type="radio" name="medication" value="yes" data-shows="med-details"><span>Yes</span></label>
</div>
<div class="conditional" id="med-details">
<input type="text" name="medication_details" placeholder="What medication?">
</div>
</div>
</div>

<div class="form-section">
<h2>Your goals</h2>

<div class="question-block">
<label class="question-label required">What would be most helpful for you right now?</label>
<textarea name="helpful" required></textarea>
</div>

<div class="question-block">
<label class="question-label">Is there anything about how your family or culture approaches grief that would be helpful for us to understand?</label>
<p class="helper-text">For example: funeral practices, mourning periods, spiritual beliefs, expectations from family.</p>
<textarea name="cultural"></textarea>
</div>
</div>

<div class="form-section">
<h2>Safety</h2>

<div class="question-block">
<label class="question-label required">Over the past two weeks, have you had any thoughts of hurting yourself or ending your life?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="self_harm" value="no" required><span>No</span></label>
<label class="option-item"><input type="radio" name="self_harm" value="yes_sometimes"><span>Yes — occasionally</span></label>
<label class="option-item"><input type="radio" name="self_harm" value="yes_often"><span>Yes — frequently</span></label>
</div>

<div class="safety-reassurance" id="safety-reassurance">
<p>Thank you for being honest with us. You're not in trouble and this won't be held against you. It helps us make sure you get the right level of support.</p>
</div>

<div class="conditional" id="plan-group">
<label class="question-label">Right now, do you have a specific plan to hurt yourself?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="has_plan" value="no"><span>No</span></label>
<label class="option-item"><input type="radio" name="has_plan" value="yes"><span>Yes</span></label>
</div>
</div>

<div class="crisis-box" id="crisis-box">
<p>If you are in immediate danger, please call 111 now. You can also call or text 1737 any time to talk to someone. If you submit this form, we will treat it as urgent and contact you as soon as possible.</p>
</div>
</div>

<div class="question-block">
<label class="question-label">Is there anything else about your safety you'd like us to know?</label>
<textarea name="safety_other"></textarea>
</div>
</div>

<div class="form-section">
<h2>Your details</h2>

<div class="question-block">
<label class="question-label required">Full name</label>
<input type="text" name="fullname" required>
</div>

<div class="question-block">
<label class="question-label">Preferred name</label>
<input type="text" name="preferred_name">
</div>

<div class="question-block">
<label class="question-label required">Date of birth</label>
<input type="date" name="dob" required>
</div>

<div class="question-block">
<label class="question-label required">Age</label>
<input type="number" name="age" min="16" max="100" required>
<p class="helper-text">Must be 16 or older.</p>
</div>

<div class="question-block">
<label class="question-label required">Gender</label>
<select name="gender" required>
<option value="">Select...</option>
<option value="man">Man</option>
<option value="woman">Woman</option>
<option value="nonbinary">Non-binary</option>
<option value="genderdiverse">Gender diverse</option>
<option value="prefernot">Prefer not to say</option>
<option value="other">Other</option>
</select>
</div>

<div class="question-block">
<label class="question-label required">Ethnicity (select all that apply)</label>
<div class="option-group">
<label class="option-item"><input type="checkbox" name="ethnicity" value="nzeuropean"><span>NZ European/Pākehā</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="maori"><span>Māori</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="samoan"><span>Samoan</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="tongan"><span>Tongan</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="cookisland"><span>Cook Island Māori</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="fijian"><span>Fijian</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="niuean"><span>Niuean</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="tokelauan"><span>Tokelauan</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="indian"><span>Indian</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="chinese"><span>Chinese</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="southeastasian"><span>Southeast Asian</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="other" data-other="ethnicity-other"><span>Other</span></label>
</div>
<div class="conditional" id="ethnicity-other" style="margin-left:0;margin-top:0.5rem;">
<input type="text" name="ethnicity_other" placeholder="Please specify">
</div>
</div>

<div class="question-block">
<label class="question-label required">Phone number</label>
<input type="tel" name="phone" required>
</div>

<div class="question-block">
<label class="question-label required">Email address</label>
<input type="email" name="email" required>
</div>

<div class="question-block">
<label class="question-label">City or town you live in</label>
<input type="text" name="city">
</div>

<div class="question-block">
<label class="question-label required">Emergency contact name and number</label>
<input type="text" name="emergency_contact" required>
<p class="helper-text">Someone we can contact if we're concerned about your safety.</p>
</div>

<div class="question-block">
<label class="question-label">How did you hear about Connect?</label>
<select name="referral">
<option value="">Select...</option>
<option value="google">Google search</option>
<option value="social">Social media</option>
<option value="friend">Friend or family member</option>
<option value="gp">GP or other doctor</option>
<option value="school">School, university, or polytech</option>
<option value="community">Community or church organisation</option>
<option value="other">Other</option>
</select>
</div>

<div class="question-block" style="margin-top:2rem;">
<label class="option-item" style="padding:0;">
<input type="checkbox" name="consent_confidential" required style="margin-right:0.75rem;">
<span>I understand my information is confidential and will only be seen by the Connect Clinic clinical team.</span>
</label>
</div>

<div class="question-block">
<label class="option-item" style="padding:0;">
<input type="checkbox" name="consent_age" required style="margin-right:0.75rem;">
<span>I confirm I am 16 years of age or older.</span>
</label>
</div>
</div>

<button type="submit" class="submit-btn">Submit</button>
<p class="after-submit">We'll review your form and be in touch within 48 hours by email or phone.</p>
</form>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('[data-shows]').forEach(function(input) {
    input.addEventListener('change', function() {
      var target = document.getElementById(this.dataset.shows);
      if (!target) return;
      var group = this.closest('.option-group');
      var allInputs = group.querySelectorAll('input[name="' + this.name + '"]');
      allInputs.forEach(function(inp) {
        if (inp.dataset.shows && inp.dataset.shows !== input.dataset.shows) {
          var other = document.getElementById(inp.dataset.shows);
          if (other) other.classList.remove('visible');
        }
      });
      if (this.checked) { target.classList.add('visible'); }
      else { target.classList.remove('visible'); }
    });
  });

  var safetyRadios = document.querySelectorAll('input[name="self_harm"]');
  var reassurance = document.getElementById('safety-reassurance');
  var planGroup = document.getElementById('plan-group');
  safetyRadios.forEach(function(r) {
    r.addEventListener('change', function() {
      if (this.value === 'yes_sometimes' || this.value === 'yes_often') {
        reassurance.classList.add('visible');
        planGroup.classList.add('visible');
      } else {
        reassurance.classList.remove('visible');
        planGroup.classList.remove('visible');
        document.getElementById('crisis-box').classList.remove('visible');
      }
    });
  });

  var planRadios = document.querySelectorAll('input[name="has_plan"]');
  var crisisBox = document.getElementById('crisis-box');
  planRadios.forEach(function(r) {
    r.addEventListener('change', function() {
      if (this.value === 'yes') { crisisBox.classList.add('visible'); }
      else { crisisBox.classList.remove('visible'); }
    });
  });

  document.querySelectorAll('input[data-other]').forEach(function(cb) {
    cb.addEventListener('change', function() {
      var target = document.getElementById(this.dataset.other);
      if (target) target.style.display = this.checked ? 'block' : 'none';
    });
  });

  document.querySelector('form').addEventListener('submit', function(e) {
    var first = null;
    this.querySelectorAll('[required]').forEach(function(field) {
      var isEmpty = !field.value || (field.type === 'checkbox' && !field.checked);
      if (isEmpty) {
        field.style.borderColor = '#e57373';
        if (!first) first = field;
      } else {
        field.style.borderColor = '';
      }
    });
    if (first) { e.preventDefault(); first.scrollIntoView({ behavior: 'smooth', block: 'center' }); }
  });
});
</script>
</body>
</html>

<div class="form-section">
<h2>Safety</h2>

<div class="question-block">
<label class="question-label required">Over the past two weeks, have you had any thoughts of hurting yourself or ending your life?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="self_harm" value="no" required><span>No</span></label>
<label class="option-item"><input type="radio" name="self_harm" value="yes_sometimes"><span>Yes — occasionally</span></label>
<label class="option-item"><input type="radio" name="self_harm" value="yes_often"><span>Yes — frequently</span></label>
</div>

<div class="safety-reassurance" id="safety-reassurance">
<p>Thank you for being honest with us. You're not in trouble and this won't be held against you. It helps us make sure you get the right level of support.</p>
</div>

<div class="conditional" id="plan-group">
<label class="question-label">Right now, do you have a specific plan to hurt yourself?</label>
<div class="option-group">
<label class="option-item"><input type="radio" name="has_plan" value="no"><span>No</span></label>
<label class="option-item"><input type="radio" name="has_plan" value="yes"><span>Yes</span></label>
</div>
</div>

<div class="crisis-box" id="crisis-box">
<p>If you are in immediate danger, please call 111 now. You can also call or text 1737 any time to talk to someone. If you submit this form, we will treat it as urgent and contact you as soon as possible.</p>
</div>
</div>

<div class="question-block">
<label class="question-label">Is there anything else about your safety you'd like us to know?</label>
<textarea name="safety_other"></textarea>
</div>
</div>

<div class="form-section">
<h2>Your details</h2>

<div class="question-block">
<label class="question-label required">Full name</label>
<input type="text" name="fullname" required>
</div>

<div class="question-block">
<label class="question-label">Preferred name</label>
<input type="text" name="preferred_name">
</div>

<div class="question-block">
<label class="question-label required">Date of birth</label>
<input type="date" name="dob" required>
</div>

<div class="question-block">
<label class="question-label required">Age</label>
<input type="number" name="age" min="16" max="100" required>
<p class="helper-text">Must be 16 or older.</p>
</div>

<div class="question-block">
<label class="question-label required">Gender</label>
<select name="gender" required>
<option value="">Select...</option>
<option value="man">Man</option>
<option value="woman">Woman</option>
<option value="nonbinary">Non-binary</option>
<option value="genderdiverse">Gender diverse</option>
<option value="prefernot">Prefer not to say</option>
<option value="other">Other</option>
</select>
</div>

<div class="question-block">
<label class="question-label required">Ethnicity (select all that apply)</label>
<div class="option-group">
<label class="option-item"><input type="checkbox" name="ethnicity" value="nzeuropean"><span>NZ European/Pākehā</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="maori"><span>Māori</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="samoan"><span>Samoan</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="tongan"><span>Tongan</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="cookisland"><span>Cook Island Māori</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="fijian"><span>Fijian</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="niuean"><span>Niuean</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="tokelauan"><span>Tokelauan</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="indian"><span>Indian</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="chinese"><span>Chinese</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="southeastasian"><span>Southeast Asian</span></label>
<label class="option-item"><input type="checkbox" name="ethnicity" value="other" data-other="ethnicity-other"><span>Other</span></label>
</div>
<div class="conditional" id="ethnicity-other" style="margin-left:0;margin-top:0.5rem;">
<input type="text" name="ethnicity_other" placeholder="Please specify">
</div>
</div>

<div class="question-block">
<label class="question-label required">Phone number</label>
<input type="tel" name="phone" required>
</div>

<div class="question-block">
<label class="question-label required">Email address</label>
<input type="email" name="email" required>
</div>

<div class="question-block">
<label class="question-label">City or town you live in</label>
<input type="text" name="city">
</div>

<div class="question-block">
<label class="question-label required">Emergency contact name and number</label>
<input type="text" name="emergency_contact" required>
<p class="helper-text">Someone we can contact if we're concerned about your safety.</p>
</div>

<div class="question-block">
<label class="question-label">How did you hear about Connect?</label>
<select name="referral">
<option value="">Select...</option>
<option value="google">Google search</option>
<option value="social">Social media</option>
<option value="friend">Friend or family member</option>
<option value="gp">GP or other doctor</option>
<option value="school">School, university, or polytech</option>
<option value="community">Community or church organisation</option>
<option value="other">Other</option>
</select>
</div>

<div class="question-block" style="margin-top:2rem;">
<label class="option-item" style="padding:0;">
<input type="checkbox" name="consent_confidential" required style="margin-right:0.75rem;">
<span>I understand my information is confidential and will only be seen by the Connect Clinic clinical team.</span>
</label>
</div>

<div class="question-block">
<label class="option-item" style="padding:0;">
<input type="checkbox" name="consent_age" required style="margin-right:0.75rem;">
<span>I confirm I am 16 years of age or older.</span>
</label>
</div>
</div>

<button type="submit" class="submit-btn">Submit</button>
<p class="after-submit">We'll review your form and be in touch within 48 hours by email or phone.</p>
</form>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('[data-shows]').forEach(function(input) {
    input.addEventListener('change', function() {
      var target = document.getElementById(this.dataset.shows);
      if (!target) return;
      var group = this.closest('.option-group');
      var allInputs = group.querySelectorAll('input[name="' + this.name + '"]');
      allInputs.forEach(function(inp) {
        if (inp.dataset.shows && inp.dataset.shows !== input.dataset.shows) {
          var other = document.getElementById(inp.dataset.shows);
          if (other) other.classList.remove('visible');
        }
      });
      if (this.checked) { target.classList.add('visible'); }
      else { target.classList.remove('visible'); }
    });
  });

  var safetyRadios = document.querySelectorAll('input[name="self_harm"]');
  var reassurance = document.getElementById('safety-reassurance');
  var planGroup = document.getElementById('plan-group');
  safetyRadios.forEach(function(r) {
    r.addEventListener('change', function() {
      if (this.value === 'yes_sometimes' || this.value === 'yes_often') {
        reassurance.classList.add('visible');
        planGroup.classList.add('visible');
      } else {
        reassurance.classList.remove('visible');
        planGroup.classList.remove('visible');
        document.getElementById('crisis-box').classList.remove('visible');
      }
    });
  });

  var planRadios = document.querySelectorAll('input[name="has_plan"]');
  var crisisBox = document.getElementById('crisis-box');
  planRadios.forEach(function(r) {
    r.addEventListener('change', function() {
      if (this.value === 'yes') { crisisBox.classList.add('visible'); }
      else { crisisBox.classList.remove('visible'); }
    });
  });

  document.querySelectorAll('input[data-other]').forEach(function(cb) {
    cb.addEventListener('change', function() {
      var target = document.getElementById(this.dataset.other);
      if (target) target.style.display = this.checked ? 'block' : 'none';
    });
  });

  document.querySelector('form').addEventListener('submit', function(e) {
    var first = null;
    this.querySelectorAll('[required]').forEach(function(field) {
      var isEmpty = !field.value || (field.type === 'checkbox' && !field.checked);
      if (isEmpty) {
        field.style.borderColor = '#e57373';
        if (!first) first = field;
      } else {
        field.style.borderColor = '';
      }
    });
    if (first) { e.preventDefault(); first.scrollIntoView({ behavior: 'smooth', block: 'center' }); }
  });
});
</script>
</body>
</html>
